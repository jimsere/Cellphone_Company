show databases;
use company;
show tables;

/*DESCRIBE*/

DESCRIBE SYMVOLAIO;
DESCRIBE PELATHS; 
DESCRIBE SYSKEYH; 
DESCRIBE LEITOYRGIKO_SYSTHMA;
DESCRIBE KATASKEYASTHS;
DESCRIBE PAKETO;
DESCRIBE PWLHTHS;
DESCRIBE PARARTHMA;
DESCRIBE SYNALLAGH;

/*SELECT*/

SELECT * FROM SYMVOLAIO;
SELECT * FROM PELATHS; 
SELECT * FROM SYSKEYH; 
SELECT * FROM LEITOYRGIKO_SYSTHMA;
SELECT * FROM KATASKEYASTHS;
SELECT * FROM PAKETO;
SELECT * FROM PWLHTHS;
SELECT * FROM PARARTHMA;
SELECT * FROM SYNALLAGH;

/*CREATES & ALTERS*/
ALTER TABLE PELATHS ADD COLUMN(EPITHETO VARCHAR(20),ONOMA VARCHAR (20),EMAIL VARCHAR(25),THLEFONO VARCHAR(20));
ALTER TABLE SYMVOLAIO ADD ID_SYMVOLAIOY CHAR(7);

CREATE TABLE SYSKEYH(ID_SYSKEYHS CHAR(5),MEGETHOS FLOAT,ID_KATOXOU CHAR(12),ON_KATASKEYASTH VARCHAR(20),KOD_LEITOYRGIKOY CHAR (5),SYNDESH_DIKTIOY CHAR(2),PRIMARY KEY (ID_SYSKEYHS),FOREIGN KEY(ID_KATOXOU) REFERENCES PELATHS(ID),FOREIGN KEY(ON_KATASKEYASTH) REFERENCES KATASKEYASTHS(ONOMA_KATASKEYASTH),FOREIGN KEY(KOD_LEITOYRGIKOY) REFERENCES LEITOYRGIKO_SYSTHMA(ID_LEITOYRGIKOY));

CREATE TABLE KATASKEYASTHS(ONOMA_KATASKEYASTH VARCHAR(20),XORA VARCHAR(35),ETOS_IDRYSHS YEAR, PRIMARY KEY(ONOMA_KATASKEYASTH));
CREATE TABLE LEITOYRGIKO_SYSTHMA(ONOMA_LOGISMIKOY VARCHAR (20),EKDOSH VARCHAR(10),ONOMA_ETAIRIAS VARCHAR(20), ID_LEITOYRGIKOY VARCHAR(5),PRIMARY KEY(ID_LEITOYRGIKOY));

ALTER TABLE SYSKEYH ADD COLUMN(ID_KATOXOU CHAR(12),ON_KATASKEYASTH VARCHAR(20),KOD_LEITOYRGIKOY CHAR(5),SYNDESH_DIKTIOY CHAR(2));
ALTER TABLE SYSKEYH ADD CONSTRAINT SYSKEYH FOREIGN KEY(ID_KATOXOU) REFERENCES PELATHS(ID); 
ALTER TABLE SYSKEYH ADD FOREIGN KEY(ON_KATASKEYASTH) REFERENCES KATASKEYASTHS(ONOMA_KATASKEYASTH); 
ALTER TABLE SYSKEYH ADD FOREIGN KEY(KOD_LEITOYRGIKOY) REFERENCES LEITOYRGIKO_SYSTHMA(ID_LEITOYRGIKOY); 

ALTER TABLE SYMVOLAIO ADD ID_SYMVOLAIOY CHAR(7);
UPDATE SYMVOLAIO SET ID_SYMVOLAIOY="1234567" WHERE KOD_PELATH='1';
UPDATE SYMVOLAIO SET ID_SYMVOLAIOY="2345678" WHERE KOD_PELATH='131';
UPDATE SYMVOLAIO SET ID_SYMVOLAIOY="3456789" WHERE KOD_PELATH='33';
ALTER TABLE SYMVOLAIO ADD PRIMARY KEY(ID_SYMVOLAIOY);

CREATE TABLE PAKETO(SMS INT(5),DEDOMENA FLOAT(5,2),LEPTA_OMILIAS INT(5),KOD_SYMVOLAIOY CHAR(7), FOREIGN KEY(KOD_SYMVOLAIOY) REFERENCES SYMVOLAIO(ID_SYMVOLAIOY));
 
ALTER TABLE PAKETO ADD ID_PAKETOU CHAR (5);
ALTER TABLE PAKETO ADD PRIMARY KEY(ID_PAKETOU);

CREATE TABLE PWLHTHS(ID_PWLHTH CHAR(4),ONOMA VARCHAR(20),EPITHETO VARCHAR(20),EMAIL VARCHAR(20),ID_PELATH CHAR(12), PRIMARY KEY(ID_PWLHTH),UNIQUE(ID_PELATH), FOREIGN KEY(ID_PELATH) REFERENCES PELATHS(ID));
CREATE TABLE PARARTHMA(ID_PARARTHMATOS CHAR(5),POLH VARCHAR(30),ODOS VARCHAR(30),TK CHAR(5),THLEFONO VARCHAR(10));

ALTER TABLE PARARTHMA ADD PRIMARY KEY (ID_PARARTHMATOS);
ALTER TABLE PWLHTHS ADD FOREIGN KEY(KOD_PARARTHMATOS) REFERENCES PARARTHMA(ID_PARARTHMATOS); 
CREATE TABLE SYNALLAGH(ID_SYNALLAGHS CHAR(10),HM_ORA DATETIME,POSO FLOAT(10,2),KOD_SYMVOLAIOY CHAR(7), PRIMARY KEY(ID_SYNALLAGHS),UNIQUE(KOD_SYMVOLAIOY),FOREIGN KEY(KOD_SYMVOLAIOY) REFERENCES SYMVOLAIO(ID_SYMVOLAIOY));

/*INSERTS*/
SET SQL_SAFE_UPDATES=0;

/*PELATHS */
UPDATE PELATHS SET EPITHETO="GEORGIOY",ONOMA="KOSTAS",EMAIL="GEO@GMAIL.COM",THLEFONO="6969090355" WHERE ID=1;
UPDATE PELATHS SET EPITHETO="PAPADOPOULOS",ONOMA="GEORGIOS",EMAIL="PAP@GMAIL.COM",THLEFONO="6954637122" WHERE ID=131;
UPDATE PELATHS SET EPITHETO="DHMHTRIOY",ONOMA="DIMITRIS",EMAIL="DIM@GMAIL.COM",THLEFONO="6983412252" WHERE ID=33;
UPDATE PELATHS SET ID="123456789012" WHERE ONOMA="KOSTAS";
UPDATE PELATHS SET ID="354212768904" WHERE ONOMA="GEORGIOS";
UPDATE PELATHS SET ID="231450986514" WHERE ONOMA="DIMITRIS";
INSERT INTO PELATHS(ID,EPITHETO,ONOMA,EMAIL,THLEFONO) VALUES ("534789043122","XATZHS","XARHS","XAT@GMAIL.COM","6942625182"),("731231054555","KOREAS","MENIPPOS","KOR@GMAIL.COM","6934875467");
INSERT INTO PELATHS(ID,EPITHETO,ONOMA,EMAIL,THLEFONO) VALUES ("242142382703","GEORGIOY","GEORGIOS","GEO@GMAIL.COM","6987495969");
INSERT INTO PELATHS(ID,EPITHETO,ONOMA,EMAIL,THLEFONO) VALUES ("719054321410","PAPADOPOULOS","GEORGIOS","GPAP@GMAIL.COM","6942139142");
INSERT INTO PELATHS(ID,EPITHETO,ONOMA,EMAIL,THLEFONO) VALUES ("759289446734","TOPOUZIS","NIKOS","AVGE@GMAIL.COM","6973435123");
INSERT INTO PELATHS(ID,EPITHETO,ONOMA,EMAIL,THLEFONO) VALUES ("141772453769","KARAGIANNHS","KOSTANTINOS","KARA@GMAIL.COM","6989324159");
INSERT INTO PELATHS(ID,EPITHETO,ONOMA,EMAIL,THLEFONO) VALUES ("012589410360","KOSTANTINIDOY","NIKOLETA","KWNST@GMAIL.COM","6924387334");

/*SYMVOLAIO */
UPDATE SYMVOLAIO SET KOD_PELATH="123456789012" WHERE KOD_PELATH="1";
UPDATE SYMVOLAIO SET KOD_PELATH="354212768904" WHERE KOD_PELATH="131";
UPDATE SYMVOLAIO SET KOD_PELATH="231450986514" WHERE KOD_PELATH="33";
INSERT INTO SYMVOLAIO(HM_EN,KOD_PELATH,ID_SYMVOLAIOY) VALUES ("2022-10-30","534789043122","5432109");
INSERT INTO SYMVOLAIO(HM_EN,KOD_PELATH,ID_SYMVOLAIOY) VALUES ("2022-03-18","731231054555","0987878");

/*SYSKEYH */
INSERT INTO SYSKEYH(ID_SYSKEYHS,MEGETHOS,ID_KATOXOU,ON_KATASKEYASTH,KOD_LEITOYRGIKOY,SYNDESH_DIKTIOY) VALUES ("00000","6","354212768904","APPLE","87678","4G");
INSERT INTO SYSKEYH(ID_SYSKEYHS,MEGETHOS,ID_KATOXOU,ON_KATASKEYASTH,KOD_LEITOYRGIKOY,SYNDESH_DIKTIOY) VALUES ("11111","6.5","231450986514","XIAOMI","23106","3G");
INSERT INTO SYSKEYH(ID_SYSKEYHS,MEGETHOS,ID_KATOXOU,ON_KATASKEYASTH,KOD_LEITOYRGIKOY,SYNDESH_DIKTIOY) VALUES ("22222","6.3","123456789012","SAMSUNG","34217","5G");
INSERT INTO SYSKEYH(ID_SYSKEYHS,MEGETHOS,ID_KATOXOU,ON_KATASKEYASTH,KOD_LEITOYRGIKOY,SYNDESH_DIKTIOY) VALUES ("33333","6.7","534789043122","SAMSUNG","65478","5G");
INSERT INTO SYSKEYH(ID_SYSKEYHS,MEGETHOS,ID_KATOXOU,ON_KATASKEYASTH,KOD_LEITOYRGIKOY,SYNDESH_DIKTIOY) VALUES ("44444","6","731231054555","APPLE","82001","4G");
INSERT INTO SYSKEYH(ID_SYSKEYHS,MEGETHOS,ID_KATOXOU,ON_KATASKEYASTH,KOD_LEITOYRGIKOY,SYNDESH_DIKTIOY) VALUES ("55555","6.5","719054321410","APPLE","82001","4G");
INSERT INTO SYSKEYH(ID_SYSKEYHS,MEGETHOS,ID_KATOXOU,ON_KATASKEYASTH,KOD_LEITOYRGIKOY,SYNDESH_DIKTIOY) VALUES ("66666","6","242142382703","SAMSUNG","34217","5G");
INSERT INTO SYSKEYH(ID_SYSKEYHS,MEGETHOS,ID_KATOXOU,ON_KATASKEYASTH,KOD_LEITOYRGIKOY,SYNDESH_DIKTIOY) VALUES ("77777","6.7","759289446734","XIAOMI","23106","4G");
INSERT INTO SYSKEYH(ID_SYSKEYHS,MEGETHOS,ID_KATOXOU,ON_KATASKEYASTH,KOD_LEITOYRGIKOY,SYNDESH_DIKTIOY) VALUES ("88888","6.8","012589410360","APPLE","87678","5G");
INSERT INTO SYSKEYH(ID_SYSKEYHS,MEGETHOS,ID_KATOXOU,ON_KATASKEYASTH,KOD_LEITOYRGIKOY,SYNDESH_DIKTIOY) VALUES ("99999","6.9","731231054555","XIAOMI",'23106',"4G");
/*KATASKEYASTHS */

INSERT INTO KATASKEYASTHS (ONOMA_KATASKEYASTH,XORA,ETOS_IDRYSHS) VALUES ('SAMSUNG','S.KOREA','1938');
INSERT INTO KATASKEYASTHS (ONOMA_KATASKEYASTH,XORA,ETOS_IDRYSHS) VALUES ('APPLE','USA','1976');
INSERT INTO KATASKEYASTHS (ONOMA_KATASKEYASTH,XORA,ETOS_IDRYSHS) VALUES ('XIAOMI','CHINA','2010');

/*LEITOYRGIKO_SYSTHMA */

INSERT INTO LEITOYRGIKO_SYSTHMA (ONOMA_LOGISMIKOY,EKDOSH,ONOMA_ETAIRIAS,ID_LEITOYRGIKOY) VALUES ('ANDROID','12','GOOGLE','34217');
INSERT INTO LEITOYRGIKO_SYSTHMA (ONOMA_LOGISMIKOY,EKDOSH,ONOMA_ETAIRIAS,ID_LEITOYRGIKOY) VALUES ('ANDROID','11','GOOGLE','65478');
INSERT INTO LEITOYRGIKO_SYSTHMA (ONOMA_LOGISMIKOY,EKDOSH,ONOMA_ETAIRIAS,ID_LEITOYRGIKOY) VALUES ('IOS','16.1.1','APPLE','87678');
INSERT INTO LEITOYRGIKO_SYSTHMA (ONOMA_LOGISMIKOY,EKDOSH,ONOMA_ETAIRIAS,ID_LEITOYRGIKOY) VALUES ('IOS','13','APPLE','82001');
INSERT INTO LEITOYRGIKO_SYSTHMA (ONOMA_LOGISMIKOY,EKDOSH,ONOMA_ETAIRIAS,ID_LEITOYRGIKOY) VALUES ('MIUI','12.5','XIAOMI','23106');

/* PAKETO */
INSERT INTO PAKETO (SMS,DEDOMENA,LEPTA_OMILIAS,ID_PAKETOU) VALUES('500',2000,'500','00001');
INSERT INTO PAKETO (SMS,DEDOMENA,LEPTA_OMILIAS,ID_PAKETOU) VALUES('1000',5000,'1000','00002');
INSERT INTO PAKETO (SMS,DEDOMENA,LEPTA_OMILIAS,ID_PAKETOU) VALUES('200',1000,'100','00003');

/*SYNALLAGH */

INSERT INTO SYNALLAGH (ID_SYNALLAGHS,HM_ORA,POSO,KOD_SYMVOLAIOY) VALUES('SMG8FDNUQN','2023-06-29 19:32:28','55.39','1234567');
INSERT INTO SYNALLAGH (ID_SYNALLAGHS,HM_ORA,POSO,KOD_SYMVOLAIOY) VALUES('QH3TT2H1Y6','2023-07-31 12:57:12','150.49','0987878');
INSERT INTO SYNALLAGH (ID_SYNALLAGHS,HM_ORA,POSO,KOD_SYMVOLAIOY) VALUES('OX3SD80611','2023-12-03 13:23:59','20.00','2345678');
INSERT INTO SYNALLAGH (ID_SYNALLAGHS,HM_ORA,POSO,KOD_SYMVOLAIOY) VALUES('S20R0C09G9','2023-07-29 22:11:11','30.39','1234567');
INSERT INTO SYNALLAGH (ID_SYNALLAGHS,HM_ORA,POSO,KOD_SYMVOLAIOY) VALUES('EZEBWNZ17K','2023-02-03 18:23:33','25.99','5432109');
INSERT INTO SYNALLAGH (ID_SYNALLAGHS,HM_ORA,POSO,KOD_SYMVOLAIOY) VALUES('J6H2ITD1X6','2023-02-21 15:42:11','25.99','5432109');
INSERT INTO SYNALLAGH (ID_SYNALLAGHS,HM_ORA,POSO,KOD_SYMVOLAIOY) VALUES('57PMLDQJS4','2023-02-21 11:10:12','20.00','5432109');
INSERT INTO SYNALLAGH (ID_SYNALLAGHS,HM_ORA,POSO,KOD_SYMVOLAIOY) VALUES('CX81XLLO1C','2023-06-08 18:23:34','29.99','3456789');
INSERT INTO SYNALLAGH (ID_SYNALLAGHS,HM_ORA,POSO,KOD_SYMVOLAIOY) VALUES('1OTHX946OH','2023-07-30  18:23:34','21.99','0987878');
INSERT INTO SYNALLAGH (ID_SYNALLAGHS,HM_ORA,POSO,KOD_SYMVOLAIOY) VALUES('2D1NQEVISH','2023-02-21 18:23:33','21.99','0987878');

/*PARARTHMA*/

INSERT INTO PARARTHMA(ID_PARARTHMATOS,POLH,ODOS,TK,THLEFONO) VALUES("10000","THESSALONIKH","PAPAFLESA 12","57015","2108531450");
INSERT INTO PARARTHMA(ID_PARARTHMATOS,POLH,ODOS,TK,THLEFONO) VALUES("20000","TRIKALA","PREVEZHS 9","64013","2104564531");
INSERT INTO PARARTHMA(ID_PARARTHMATOS,POLH,ODOS,TK,THLEFONO) VALUES("30000","HRAKLEIO","OMHROU 15","11921","2109545615");
INSERT INTO PARARTHMA(ID_PARARTHMATOS,POLH,ODOS,TK,THLEFONO) VALUES("40000","DRAMA","GEORGIOU AVEROF 16","54132","2310452953");




/*PWLHTHS*/
INSERT INTO PWLHTHS (ID_PWLHTH,ONOMA,EPITHETO,EMAIL,ID_PELATH,KOD_PARARTHMATOS) VALUES("0001","LEFTHERHS","IWANNIDHS","IWAN@GMAIL.COM","231450986514","10000");
INSERT INTO PWLHTHS (ID_PWLHTH,ONOMA,EPITHETO,EMAIL,ID_PELATH,KOD_PARARTHMATOS) VALUES("0002","ERIKA","PAPADOPOULOU","ERPAP@GMAIL.COM",NULL,"30000");
INSERT INTO PWLHTHS (ID_PWLHTH,ONOMA,EPITHETO,EMAIL,ID_PELATH,KOD_PARARTHMATOS) VALUES("0003","KWSTANTINOS","PETRIDHS","KWPETR@GMAIL.COM","123456789012","20000");
INSERT INTO PWLHTHS (ID_PWLHTH,ONOMA,EPITHETO,EMAIL,ID_PELATH,KOD_PARARTHMATOS) VALUES("0004","EYAGGELOS","STAVRIANIDHS","EYSTA@GMAIL.COM","354212768904","40000");
INSERT INTO PWLHTHS (ID_PWLHTH,ONOMA,EPITHETO,EMAIL,ID_PELATH,KOD_PARARTHMATOS) VALUES("0005","NIKOLETA","NIKOLAIDOU","NIKNI@GMAIL.COM","534789043122","10000");
INSERT INTO PWLHTHS (ID_PWLHTH,ONOMA,EPITHETO,EMAIL,ID_PELATH,KOD_PARARTHMATOS) VALUES("0006","GIORGOS","STATHOPOULOS","GIOSTA@GMAIL.COM",NULL,"30000");
INSERT INTO PWLHTHS (ID_PWLHTH,ONOMA,EPITHETO,EMAIL,ID_PELATH,KOD_PARARTHMATOS) VALUES("0007","ORESTHS","KALOGIANNIDHS","ORKAL@GMAIL.COM","731231054555","40000");
INSERT INTO PWLHTHS (ID_PWLHTH,ONOMA,EPITHETO,EMAIL,ID_PELATH,KOD_PARARTHMATOS) VALUES("0008","GIORGOS","KALOGIANNIDHS","GEKAL@GMAIL.COM",NULL,"40000");
INSERT INTO PWLHTHS (ID_PWLHTH,ONOMA,EPITHETO,EMAIL,ID_PELATH,KOD_PARARTHMATOS) VALUES("0009","ELENH","PAPANIKOLAOY","ELEPAP@GMAIL.COM",'719054321410',"10000");
INSERT INTO PWLHTHS (ID_PWLHTH,ONOMA,EPITHETO,EMAIL,ID_PELATH,KOD_PARARTHMATOS) VALUES("0010","NIKOS","PAPADHMHTRIOY","NIPAP@GMAIL.COM",'759289446734',"30000");


ALTER TABLE SYMVOLAIO DROP FOREIGN KEY symvolaio_ibfk_1;
SELECT TABLE_NAME, CONSTRAINT_NAME FROM information_schema.table_constraints WHERE TABLE_NAME="PAKETO";
SELECT TABLE_NAME, CONSTRAINT_NAME,CONSTRAINT_TYPE FROM information_schema.table_constraints WHERE TABLE_NAME="SYSKEYH" ;


/*LIKE*/

/* Εμφανίζει τα id των λειτουργικών αλλά και τα ονόματα των λογισμικών που έφτιαξε η google */ 
SELECT ID_LEITOYRGIKOY,ONOMA_LOGISMIKOY FROM LEITOYRGIKO_SYSTHMA WHERE ONOMA_ETAIRIAS LIKE '%GOOGLE%';
/*Εμφανίζει την πόλη, το id του παραρτήματος και τον ΤΚ των παραρτημάτων που ο αριθμός τηλεφώνου ξεκινάει με 210*/
SELECT POLH,ID_PARARTHMATOS,TK FROM PARARTHMA WHERE THLEFONO LIKE '210%';
/*Εμφανίζει τον κδωικό του πελάτη και το id των συμβόλαιων που έχουν επιλέξει το πακέτο 3*/
SELECT KOD_PELATH,ID_SYMVOLAIOY FROM SYMVOLAIO WHERE KOD_PAK LIKE '%3';


/* ΣΥΝΑΡΘΟΙΣΤΙΚΕΣ ΣΥΝΑΡΤΗΣΕΙΣ ΚΑΙ GROUP BY */
/*Εμφανίζει πόσοι πωλητές δουλεύουν σε κάθε παράρτημα*/
SELECT KOD_PARARTHMATOS,COUNT(*) FROM PWLHTHS GROUP BY KOD_PARARTHMATOS;
/*Εμφανίζει πόσες συναλλαγές έχουν γίνει για κάθε συμβόλαιο*/
SELECT KOD_SYMVOLAIOY,COUNT(*) FROM SYNALLAGH GROUP BY KOD_SYMVOLAIOY;



/* JOINS */
/*Εμφανίζει από ποιον πωλητή εξηπηρετείται ο κάθε πελάτης*/
SELECT ID,ID_PWLHTH FROM PELATHS INNER JOIN PWLHTHS ON PELATHS.ID=PWLHTHS.ID_PELATH;
/*Εμφανίζει όλα τα συμβόλαια,την ημερομηνία έναρξης και τα id των συναλλαγών συμπεριλαμβονομένου και τα συμβόλαια στα οποία δεν έχει πραγματοποιηθεί κάποια συναλλαγή*/
SELECT ID_SYMVOLAIOY,HM_EN,ID_SYNALLAGHS FROM SYMVOLAIO LEFT JOIN SYNALLAGH ON SYMVOLAIO.ID_SYMVOLAIOY=SYNALLAGH.KOD_SYMVOLAIOY;

/*VIEWS*/

/*Όψη η οποία περιέχει τις συναλλαγές όπου είναι από 25 συρώ και πάνω*/
CREATE VIEW SYNALLAGES_ABOVE_25 AS SELECT ID_SYNALLAGHS,HM_ORA,KOD_SYMVOLAIOY FROM SYNALLAGH WHERE POSO >=25.00;

SELECT * FROM SYNALLAGES_ABOVE_25;

/*Όψη η οποία περιέχει τις συσκευές με 5G*/
CREATE VIEW SYSKEYES_5G AS SELECT ID_KATOXOU,ON_KATASKEYASTH,KOD_LEITOYRGIKOY FROM SYSKEYH WHERE SYNDESH_DIKTIOY="5G";

SELECT * FROM SYSKEYES_5G;




/*TRIGERS*/
/*  Μετά από κάθε διαγραφή μιας εγγραφής του πίνακα paketo το έναυσμα αυξάνει κατά 1 τον counter ο οποίος μετράει το πλήθος των διαγραμμένων πακέτων*/
SET @counter=0;
DELIMITER $$
CREATE TRIGGER COUNTER_PAKETO_AFTER_DELETE
AFTER DELETE ON PAKETO FOR EACH ROW
BEGIN
	SET @counter=@counter+1;
END $$
DELIMITER ;


/* Έπειτα από κάθε ενημέρωση στο ονοματεπώνυμο του πελάτη το έναυσμα καταγράφη την αλλαγή και την χρονική στιγμή στον καινούργιο πίνακα*/
CREATE TABLE PELATHS_UPD(ID CHAR(12),PRIN VARCHAR(50),META VARCHAR(50), XRO DATETIME);

DELIMITER $$
CREATE TRIGGER PELATHS_ID_CHANGED AFTER UPDATE ON PELATHS FOR EACH ROW
BEGIN
	INSERT INTO PELATHS_UPD VALUES(OLD.ID,CONCAT(OLD.EPITHETO,'',OLD.ONOMA),CONCAT(NEW.ID,'',NEW.ONOMA),NOW());
END $$
DELIMITER ;
SHOW triggers;


